
@{
    ViewBag.Title = "ShowGrid";
}

<input type='button' id='print' class="btn btn-primary" value='Print'>
<div class="container" id="print_div">
    <br />
    <div style="width:60%; margin:0 auto;">
        <table id="demoGrid" class="table table-striped table-bordered dt-responsive nowrap" width="100%"
               cellspacing="0">
            <thead>
                <tr>
                    <th>instructor_id</th>
                    <th>instructor_name</th>
                    <th>Current_JobTitle</th>
                    <th>NameOf_ItsUnit</th>
                    <th>TrainningTopic</th>

                    <th>QualificationsName</th>
                    <th>Email</th>
                    <th>Mobile</th>
                    <th>phone </th>
                    


                    <th>Edit</th>
                    <th>Delete</th>
                </tr>
            </thead>
        </table>
    </div>
</div>
@section scripts{

    @*datatable*@
    @*<script src="~/Scripts/jquery-3.3.1.js"></script>*@
    <script src="~/Scripts/datatables.min.js"></script>
    <script src="~/Scripts/jquery.dataTables.min.js"></script>
    <script src="~/Scripts/jquery-printme.min.js"></script>
    <script>
//1
        //$('#print').on('click', function () {

        //    $.print(".print_div");

        //});
        //2
        //$('#print').on('click', function () {
        //    printData();
        //})
        //function printData() {
        //    var divToPrint = document.getElementById("print_div");
        //    newWin = window.open("");
        //    newWin.document.write(divToPrint.outerHTML);
        //    newWin.print();
        //    newWin.close();
        //}

        //<link href="~/Content/datatables.min.css" rel="stylesheet" />
        //    <link href="~/Content/jquery.dataTables.min.css" rel="stylesheet" />
        $("#print").click(function () {
            $("#print_div").printMe({
                "path": ["~/Content/datatables.min.css",
                    "~/Content/jquery.dataTables.min.css",
                    "~/Content/bootstrap-rtl.min.css","~/Content/bootstrap.min.css"],
                "title": "تقرير المدربين"
            });
        });

            $("#demoGrid").DataTable({

                "processing": true, // for show progress bar
                "serverSide": true, // for process server side
                "filter": true, // this is for disable filter (search box)
                "orderMulti": false, // for disable multiple column at once
                "pageLength": 5,

                "ajax": {
                    "url": "/Reports/LoadData",
                    "type": "POST",
                    "datatype": "json"
                },

                "columnDefs":
                    [{
                        "targets": [0],
                        "visible": false,
                        "searchable": false
                    },
                    {
                        "targets": [9], "visible": false,
                        "searchable": false,
                        "orderable": false
                    },
                    {
                        "targets": [10], "visible": false,
                        "searchable": false,
                        "orderable": false
                    }],

                "columns": [
                    { "data": "instructor_id", "name": "instructor_id", "autoWidth": true },
                    { "data": "instructor_name", "name":"instructor_name" ,"title": "الاسم", "autoWidth": true },
                    { "data": "Current_JobTitle", "title": "الوظيفة", "name": "Current_JobTitle", "autoWidth": true },
                    { "data": "NameOf_ItsUnit", "name": "NameOf_ItsUnit", "title":"الجهه", "autoWidth": true },
                    { "data": "TrainningTopic", "name": "TrainningTopic" , "title":"مواضيع التحدث", "autoWidth": true },
                    { "data": "QualificationsName", "name": "QualificationsName", "title": "الموهلات", "autoWidth": true },
                    { "data": "Email", "name": "Email", "title": "البريد الالكترونى", "autoWidth": true },
                    { "data": "Mobile", "name": "Mobile", "title": "الموبايل", "autoWidth": true },
                    { "data": "phone", "name": "phone", "title": "التلفون", "autoWidth": true },
                    
                    //{

                    //    "render": function (data, type, full, meta) { return '<a class="btn btn-info" href="/AdminArea/Reports/Edit/' + full.instructor_id + '">Edit</a>'; }
                    //},
                    //{
                    //    data: null, render: function (data, type, row) {

                    //        return "<a href='#' class='btn btn-danger' onclick=DeleteData('" + row.instructor_id + "'); >Delete</a>";
                    //    }
                    //},

                ]


            });
        function DeleteData(id) {
        if (confirm("Are you sure you want to delete ...?")) {
            Delete(id);
        }
        else {
            return false;
        }
    }


    function Delete(id) {
        var url = '@Url.Content("~/")' + "AdminArea/Reports/Delete";
        $.post(url, { id: id }, function (data) {
            if (data == "Deleted") {
                alert("Delete  !");
                oTable = $('#demoGrid').DataTable();
                oTable.draw();
            }
            else {
                alert("Something Went Wrong!");
            }
        });
    }


        function printDiv() {

            var divToPrint = document.getElementById('DivIdToPrint');

            var newWin = window.open('', 'Print-Window');

            newWin.document.open();

            newWin.document.write('<html><body onload="window.print()">' + divToPrint.innerHTML + '</body></html>');

            newWin.document.close();

            setTimeout(function () { newWin.close(); }, 10);

        }


    </script>
}